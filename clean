#!/bin/bash
# Ensure UTF-8 everywhere (console and Python), including on Windows msys/cygwin
case "$OSTYPE" in
  msys*|cygwin*)
    if command -v chcp.com >/dev/null 2>&1; then
      chcp.com 65001 >/dev/null 2>&1
    fi
    ;;
  *)
    :
    ;;
esac
export LANG=C.UTF-8
export LC_ALL=C.UTF-8
export PYTHONUTF8=1
export PYTHONIOENCODING=UTF-8

set -x

# cd to the directory of the script
cd "$(dirname "$0")"

# Remove virtual environment
rm -rf .venv

# Remove Python build artifacts
rm -rf build/
rm -rf dist/
rm -rf src/*.egg-info/
rm -rf .pytest_cache/
rm -rf __pycache__/
find . -name "*.pyc" -type f -delete
find . -name "__pycache__" -type d -exec rm -rf {} + 2>/dev/null || true

# Remove uv lock file
rm -f uv.lock

# Remove activate symlink
rm -f activate
